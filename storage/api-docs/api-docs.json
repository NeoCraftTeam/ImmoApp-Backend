{
    "openapi": "3.0.0",
    "info": {
        "title": "KeyHome api",
        "description": "Documentation complète de KeyHome api",
        "license": {
            "name": "MIT",
            "url": "https://opensource.org/licenses/MIT"
        },
        "version": "v1"
    },
    "paths": {
        "/api/v1/ads": {
            "get": {
                "tags": [
                    "Annonces"
                ],
                "summary": "Obtenir toutes les annonces",
                "description": "Récupérer une liste paginée de toutes les annonces avec leurs relations (utilisateur, quartier, ville, type, images)",
                "operationId": "obtenirAnnonces",
                "parameters": [
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Numéro de page",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 1,
                            "minimum": 1,
                            "example": 1
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "description": "Nombre d'éléments par page",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 15,
                            "maximum": 100,
                            "minimum": 1,
                            "example": 15
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Opération réussie",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "description": "Liste des annonces",
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/AdResource"
                                            }
                                        },
                                        "links": {
                                            "description": "Liens de pagination",
                                            "properties": {
                                                "first": {
                                                    "type": "string",
                                                    "example": "http://example.com/api/v1/ads?page=1"
                                                },
                                                "last": {
                                                    "type": "string",
                                                    "example": "http://example.com/api/v1/ads?page=10"
                                                },
                                                "prev": {
                                                    "type": "string",
                                                    "example": null,
                                                    "nullable": true
                                                },
                                                "next": {
                                                    "type": "string",
                                                    "example": "http://example.com/api/v1/ads?page=2",
                                                    "nullable": true
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "meta": {
                                            "description": "Métadonnées de pagination",
                                            "properties": {
                                                "current_page": {
                                                    "description": "Page actuelle",
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "from": {
                                                    "description": "Premier élément de la page",
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "last_page": {
                                                    "description": "Dernière page",
                                                    "type": "integer",
                                                    "example": 10
                                                },
                                                "per_page": {
                                                    "description": "Éléments par page",
                                                    "type": "integer",
                                                    "example": 15
                                                },
                                                "to": {
                                                    "description": "Dernier élément de la page",
                                                    "type": "integer",
                                                    "example": 15
                                                },
                                                "total": {
                                                    "description": "Total des éléments",
                                                    "type": "integer",
                                                    "example": 150
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifié - Token d'authentification manquant ou invalide",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Non authentifié"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Token d'authentification requis"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Interdit - Permissions insuffisantes pour voir les annonces",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Cette action n'est pas autorisée"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Permissions insuffisantes"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Annonces"
                ],
                "summary": "Créer une nouvelle annonce",
                "description": "Créer une nouvelle annonce immobilière avec images et données de localisation. Les coordonnées GPS sont obligatoires.",
                "operationId": "creerAnnonce",
                "requestBody": {
                    "description": "Données de l'annonce avec images optionnelles",
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "title",
                                    "description",
                                    "adresse",
                                    "price",
                                    "surface_area",
                                    "bedrooms",
                                    "bathrooms",
                                    "latitude",
                                    "longitude",
                                    "quarter_id",
                                    "type_id"
                                ],
                                "properties": {
                                    "title": {
                                        "description": "Titre accrocheur de l'annonce",
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Magnifique appartement au centre-ville"
                                    },
                                    "description": {
                                        "description": "Description détaillée du bien",
                                        "type": "string",
                                        "example": "Spacieux appartement de 3 pièces avec vue imprenable sur la ville, proche de tous commerces"
                                    },
                                    "adresse": {
                                        "description": "Adresse complète du bien",
                                        "type": "string",
                                        "maxLength": 500,
                                        "example": "123 Rue de la République, Centre-ville"
                                    },
                                    "price": {
                                        "description": "Prix en euros",
                                        "type": "number",
                                        "format": "float",
                                        "minimum": 0,
                                        "example": 1200.5
                                    },
                                    "surface_area": {
                                        "description": "Surface habitable en mètres carrés",
                                        "type": "number",
                                        "format": "float",
                                        "minimum": 0,
                                        "example": 85.5
                                    },
                                    "bedrooms": {
                                        "description": "Nombre de chambres",
                                        "type": "integer",
                                        "minimum": 0,
                                        "example": 2
                                    },
                                    "bathrooms": {
                                        "description": "Nombre de salles de bain",
                                        "type": "integer",
                                        "minimum": 0,
                                        "example": 1
                                    },
                                    "has_parking": {
                                        "description": "Disponibilité d'une place de parking",
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "latitude": {
                                        "description": "Latitude GPS (obligatoire)",
                                        "type": "number",
                                        "format": "float",
                                        "maximum": 90,
                                        "minimum": -90,
                                        "example": 48.8566
                                    },
                                    "longitude": {
                                        "description": "Longitude GPS (obligatoire)",
                                        "type": "number",
                                        "format": "float",
                                        "maximum": 180,
                                        "minimum": -180,
                                        "example": 2.3522
                                    },
                                    "status": {
                                        "description": "Statut de l'annonce (par défaut: pending)",
                                        "type": "string",
                                        "enum": [
                                            "pending",
                                            "active",
                                            "expired",
                                            "sold"
                                        ],
                                        "example": "pending"
                                    },
                                    "expires_at": {
                                        "description": "Date d'expiration de l'annonce",
                                        "type": "string",
                                        "format": "date-time",
                                        "example": "2024-12-31T23:59:59Z"
                                    },
                                    "quarter_id": {
                                        "description": "Identifiant du quartier",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "type_id": {
                                        "description": "Identifiant du type de bien",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "user_id": {
                                        "description": "Identifiant du propriétaire (optionnel, par défaut l'utilisateur connecté)",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "images": {
                                        "description": "Images du bien (maximum 10 images, 5MB chacune). Formats acceptés: JPEG, PNG, GIF, WebP",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        },
                                        "maxItems": 10
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Annonce créée avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Annonce créée avec succès"
                                        },
                                        "data": {
                                            "properties": {
                                                "ad": {
                                                    "$ref": "#/components/schemas/AdResource"
                                                },
                                                "images_count": {
                                                    "description": "Nombre total d'images associées",
                                                    "type": "integer",
                                                    "example": 3
                                                },
                                                "images_processed": {
                                                    "description": "Nombre d'images traitées avec succès",
                                                    "type": "integer",
                                                    "example": 3
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifié",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Non authentifié"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Token d'authentification requis"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Interdit - Permissions insuffisantes pour créer une annonce",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Cette action n'est pas autorisée"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Permissions insuffisantes pour créer une annonce"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Erreurs de validation ou échec de création",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Erreur lors de la création de l'annonce"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Les coordonnées GPS sont obligatoires"
                                        },
                                        "errors": {
                                            "description": "Erreurs de validation détaillées",
                                            "type": "object",
                                            "example": {
                                                "title": [
                                                    "Le titre est obligatoire"
                                                ],
                                                "price": [
                                                    "Le prix doit être supérieur à 0"
                                                ]
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/ads/{id}": {
            "get": {
                "tags": [
                    "Annonces"
                ],
                "summary": "Obtenir une annonce spécifique",
                "description": "Récupérer les informations détaillées d'une annonce spécifique incluant ses images et relations (utilisateur, quartier, ville, type de bien)",
                "operationId": "obtenirAnnonce",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Identifiant unique de l'annonce",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "1"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Annonce récupérée avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/AdResource"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifié - Token d'authentification manquant ou invalide",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Non authentifié"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Token d'authentification requis"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Interdit - Permissions insuffisantes pour voir cette annonce",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Cette action n'est pas autorisée"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Vous n'avez pas l'autorisation de voir cette annonce"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Annonce introuvable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Annonce introuvable"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "L'annonce avec l'ID spécifié n'existe pas"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Annonces"
                ],
                "summary": "Mettre à jour une annonce existante",
                "description": "Mettre à jour les informations d'une annonce, ajouter de nouvelles images ou supprimer des images existantes. Tous les champs sont optionnels sauf l'ID.",
                "operationId": "mettreAJourAnnonce",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Identifiant unique de l'annonce à mettre à jour",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "1"
                        }
                    }
                ],
                "requestBody": {
                    "description": "Données mises à jour de l'annonce avec nouvelles images optionnelles",
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "_method": {
                                        "description": "Surcharge de méthode HTTP pour les uploads de fichiers",
                                        "type": "string",
                                        "example": "PUT"
                                    },
                                    "title": {
                                        "description": "Nouveau titre de l'annonce",
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Titre d'annonce mis à jour"
                                    },
                                    "description": {
                                        "description": "Nouvelle description détaillée",
                                        "type": "string",
                                        "example": "Description mise à jour avec nouveaux équipements"
                                    },
                                    "adresse": {
                                        "description": "Nouvelle adresse du bien",
                                        "type": "string",
                                        "maxLength": 500,
                                        "example": "456 Avenue Mise à Jour"
                                    },
                                    "price": {
                                        "description": "Nouveau prix en euros",
                                        "type": "number",
                                        "format": "float",
                                        "minimum": 0,
                                        "example": 1350.75
                                    },
                                    "surface_area": {
                                        "description": "Nouvelle surface en m²",
                                        "type": "number",
                                        "format": "float",
                                        "minimum": 0,
                                        "example": 90
                                    },
                                    "bedrooms": {
                                        "description": "Nouveau nombre de chambres",
                                        "type": "integer",
                                        "minimum": 0,
                                        "example": 3
                                    },
                                    "bathrooms": {
                                        "description": "Nouveau nombre de salles de bain",
                                        "type": "integer",
                                        "minimum": 0,
                                        "example": 2
                                    },
                                    "has_parking": {
                                        "description": "Disponibilité parking mise à jour",
                                        "type": "boolean",
                                        "example": false
                                    },
                                    "latitude": {
                                        "description": "Nouvelle latitude (optionnel - uniquement si localisation changée)",
                                        "type": "number",
                                        "format": "float",
                                        "maximum": 90,
                                        "minimum": -90,
                                        "example": 48.8606
                                    },
                                    "longitude": {
                                        "description": "Nouvelle longitude (optionnel - uniquement si localisation changée)",
                                        "type": "number",
                                        "format": "float",
                                        "maximum": 180,
                                        "minimum": -180,
                                        "example": 2.3376
                                    },
                                    "status": {
                                        "description": "Nouveau statut de l'annonce (optionnel)",
                                        "type": "string",
                                        "enum": [
                                            "pending",
                                            "active",
                                            "expired",
                                            "sold"
                                        ],
                                        "example": "active"
                                    },
                                    "expires_at": {
                                        "description": "Nouvelle date d'expiration (optionnel)",
                                        "type": "string",
                                        "format": "date-time",
                                        "example": "2025-01-31T23:59:59Z"
                                    },
                                    "quarter_id": {
                                        "description": "Nouvel identifiant de quartier",
                                        "type": "integer",
                                        "example": 2
                                    },
                                    "type_id": {
                                        "description": "Nouvel identifiant de type de bien",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "images": {
                                        "description": "Nouvelles images à ajouter (maximum 10 images au total par annonce, 5MB chacune)",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    },
                                    "images_to_delete": {
                                        "description": "Identifiants des images à supprimer",
                                        "type": "array",
                                        "items": {
                                            "type": "integer"
                                        },
                                        "example": [
                                            1,
                                            3,
                                            5
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Annonce mise à jour avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Annonce mise à jour avec succès"
                                        },
                                        "data": {
                                            "properties": {
                                                "ad": {
                                                    "$ref": "#/components/schemas/AdResource"
                                                },
                                                "images_count": {
                                                    "description": "Nombre total d'images après mise à jour",
                                                    "type": "integer",
                                                    "example": 4
                                                },
                                                "new_images_processed": {
                                                    "description": "Nombre de nouvelles images ajoutées",
                                                    "type": "integer",
                                                    "example": 2
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifié - Token d'authentification manquant ou invalide",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Non authentifié"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Interdit - Permissions insuffisantes pour modifier cette annonce",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Cette action n'est pas autorisée"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Vous n'avez pas l'autorisation de modifier cette annonce"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Annonce introuvable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Annonce introuvable"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation errors or update failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error updating ad"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Validation failed or server error"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Annonces"
                ],
                "summary": "Supprimer une annonce",
                "description": "Supprimer définitivement une annonce et toutes ses images associées. Cette action est irréversible et supprimera également tous les fichiers média stockés.",
                "operationId": "supprimerAnnonce",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Identifiant unique de l'annonce à supprimer",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "1"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Annonce supprimée avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "description": "Statut de succès de l'opération",
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "description": "Message de confirmation",
                                            "type": "string",
                                            "example": "Annonce supprimée avec succès"
                                        },
                                        "data": {
                                            "description": "Informations détaillées sur la suppression effectuée",
                                            "properties": {
                                                "deleted_ad_id": {
                                                    "description": "ID de l'annonce supprimée",
                                                    "type": "string",
                                                    "example": "1"
                                                },
                                                "deleted_ad_title": {
                                                    "description": "Titre de l'annonce supprimée",
                                                    "type": "string",
                                                    "example": "Magnifique appartement centre-ville"
                                                },
                                                "deleted_images_count": {
                                                    "description": "Nombre total d'images supprimées",
                                                    "type": "integer",
                                                    "example": 5
                                                },
                                                "deleted_images_details": {
                                                    "description": "Détails des images supprimées",
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "description": "ID de l'image",
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "was_primary": {
                                                                "description": "Si l'image était primaire",
                                                                "type": "boolean",
                                                                "example": true
                                                            },
                                                            "media_files_deleted": {
                                                                "description": "Nombre de fichiers média supprimés",
                                                                "type": "integer",
                                                                "example": 1
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "deletion_timestamp": {
                                                    "description": "Timestamp de la suppression",
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2024-01-15T14:30:00.000Z"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifié - Token d'authentification manquant ou invalide",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Non authentifié"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Token d'authentification requis pour supprimer une annonce"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Interdit - Permissions insuffisantes pour supprimer cette annonce",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Cette action n'est pas autorisée"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Vous n'avez pas l'autorisation de supprimer cette annonce. Seul le propriétaire ou un administrateur peut la supprimer."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Annonce introuvable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Annonce introuvable"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "L'annonce avec l'ID spécifié n'existe pas ou a déjà été supprimée"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Erreur lors de la suppression",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Erreur lors de la suppression de l'annonce"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Une erreur s'est produite lors de la suppression des fichiers ou de la base de données"
                                        },
                                        "debug_info": {
                                            "description": "Informations de debug (uniquement en mode debug)",
                                            "properties": {
                                                "file": {
                                                    "type": "string",
                                                    "example": "/path/to/file.php"
                                                },
                                                "line": {
                                                    "type": "integer",
                                                    "example": 123
                                                },
                                                "ad_id": {
                                                    "type": "string",
                                                    "example": "1"
                                                }
                                            },
                                            "type": "object",
                                            "nullable": true
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/ad-types": {
            "get": {
                "tags": [
                    "ad type"
                ],
                "summary": "Types d'annonces",
                "description": "Récupère la liste des types d'annonces",
                "operationId": "showAdTypes",
                "responses": {
                    "200": {
                        "description": "Succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/AdType"
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non autorisé"
                    },
                    "404": {
                        "description": "Non trouvé"
                    },
                    "500": {
                        "description": "Erreur du Serveur"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "ad type"
                ],
                "summary": "Creer un type d'annonce",
                "operationId": "storeAdType",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Chambre"
                                    },
                                    "desc": {
                                        "type": "string",
                                        "example": "C'est une chambre"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Crée avec succès"
                    },
                    "400": {
                        "description": "Requête invalide"
                    },
                    "401": {
                        "description": "Non autorisé"
                    },
                    "500": {
                        "description": "Erreur du Serveur"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/ad-types/{id}": {
            "get": {
                "tags": [
                    "ad type"
                ],
                "summary": "Afficher un type d'annonce",
                "operationId": "showAdType",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/AdType"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Type non trouvé"
                    },
                    "401": {
                        "description": "Non autorisé"
                    },
                    "500": {
                        "description": "Erreur du Serveur"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "ad type"
                ],
                "summary": "Mettre à jour du type d'annonce",
                "operationId": "updateAdType",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Chambre"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Mise à jour avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/AdType"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Requête invalide"
                    },
                    "404": {
                        "description": "Type non trouvée"
                    },
                    "401": {
                        "description": "Non autorisé"
                    },
                    "500": {
                        "description": "Erreur du Serveur"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "ad type"
                ],
                "summary": "Supprimer un type",
                "description": "Supprime le type par son ID",
                "operationId": "deleteAdType",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Supprimée avec succès"
                    },
                    "404": {
                        "description": "Ville non trouvée"
                    },
                    "401": {
                        "description": "Non autorisé"
                    },
                    "500": {
                        "description": "Erreur du Serveur"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/auth/registerCustomer": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "Inscription d'un nouveau client",
                "description": "Permet l'inscription d'un nouvel utilisateur avec validation des données et gestion d'avatar optionnel",
                "operationId": "registerCustomer",
                "requestBody": {
                    "description": "Données d'inscription de l'utilisateur",
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "firstname",
                                    "lastname",
                                    "email",
                                    "phone_number",
                                    "password"
                                ],
                                "properties": {
                                    "firstname": {
                                        "description": "Prénom de l'utilisateur",
                                        "type": "string",
                                        "maxLength": 50,
                                        "example": "Jean"
                                    },
                                    "lastname": {
                                        "description": "Nom de famille de l'utilisateur",
                                        "type": "string",
                                        "maxLength": 50,
                                        "example": "Dupont"
                                    },
                                    "email": {
                                        "description": "Adresse email unique de l'utilisateur",
                                        "type": "string",
                                        "format": "email",
                                        "example": "jean.dupont@example.com"
                                    },
                                    "phone_number": {
                                        "description": "Numéro de téléphone de l'utilisateur",
                                        "type": "string",
                                        "example": "+33123456789"
                                    },
                                    "password": {
                                        "description": "Mot de passe (minimum 8 caractères)",
                                        "type": "string",
                                        "format": "password",
                                        "minLength": 8,
                                        "example": "Motdepasse123%"
                                    },
                                    "confirm_password": {
                                        "description": "Mot de passe de confirmation (minimum 8 caractères)",
                                        "type": "string",
                                        "format": "password",
                                        "minLength": 8,
                                        "example": "Motdepasse123%"
                                    },
                                    "role": {
                                        "description": "Rôle de l'utilisateur",
                                        "type": "string",
                                        "default": "customer",
                                        "enum": [
                                            "customer"
                                        ]
                                    },
                                    "city_id": {
                                        "description": "ID de la ville de résidence",
                                        "type": "integer",
                                        "example": 1,
                                        "nullable": false
                                    },
                                    "avatar": {
                                        "description": "Image d'avatar (optionnel, max 2MB)",
                                        "type": "string",
                                        "format": "binary"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Inscription réussie",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Inscription réussie."
                                        },
                                        "access_token": {
                                            "type": "string",
                                            "example": "1|abc123def456..."
                                        },
                                        "email_verification_required": {
                                            "type": "boolean",
                                            "example": true
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "Email déjà utilisé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Cette adresse email est déjà utilisée."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "413": {
                        "description": "Fichier avatar trop volumineux",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Le fichier avatar est trop volumineux."
                                        },
                                        "max_size": {
                                            "type": "string",
                                            "example": "2MB"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Erreur de validation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Erreur de validation."
                                        },
                                        "errors": {
                                            "type": "object",
                                            "example": {
                                                "email": [
                                                    "Le champ email doit être une adresse email valide."
                                                ]
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "429": {
                        "description": "Trop de tentatives d'inscription",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Trop de tentatives d'inscription. Réessayez dans 300 secondes."
                                        },
                                        "retry_after": {
                                            "type": "integer",
                                            "example": 300
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Erreur serveur",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Une erreur est survenue lors de l'inscription. Veuillez réessayer."
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Database connection failed"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/auth/registerAgent": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "Inscription d'un nouvel agent",
                "description": "Permet l'inscription d'un nouvel utilisateur avec validation des données et gestion d'avatar optionnel",
                "operationId": "registerAgent",
                "requestBody": {
                    "description": "Données d'inscription de l'utilisateur",
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "firstname",
                                    "lastname",
                                    "email",
                                    "phone_number",
                                    "password"
                                ],
                                "properties": {
                                    "firstname": {
                                        "description": "Prénom de l'utilisateur",
                                        "type": "string",
                                        "maxLength": 50,
                                        "example": "Jean"
                                    },
                                    "lastname": {
                                        "description": "Nom de famille de l'utilisateur",
                                        "type": "string",
                                        "maxLength": 50,
                                        "example": "Dupont"
                                    },
                                    "email": {
                                        "description": "Adresse email unique de l'utilisateur",
                                        "type": "string",
                                        "format": "email",
                                        "example": "jean.dupont@example.com"
                                    },
                                    "phone_number": {
                                        "description": "Numéro de téléphone de l'utilisateur",
                                        "type": "string",
                                        "example": "+33123456789"
                                    },
                                    "password": {
                                        "description": "Mot de passe (minimum 8 caractères)",
                                        "type": "string",
                                        "format": "password",
                                        "minLength": 8,
                                        "example": "Motdepasse123%"
                                    },
                                    "confirm_password": {
                                        "description": "Mot de passe de confirmation (minimum 8 caractères)",
                                        "type": "string",
                                        "format": "password",
                                        "minLength": 8,
                                        "example": "Motdepasse123%"
                                    },
                                    "role": {
                                        "description": "Rôle de l'utilisateur",
                                        "type": "string",
                                        "default": "agent",
                                        "enum": [
                                            "agent"
                                        ],
                                        "example": "user"
                                    },
                                    "type": {
                                        "description": "Type d'utilisateur (agence ou individuel)",
                                        "type": "string",
                                        "enum": [
                                            "agency",
                                            "individual"
                                        ],
                                        "example": "premium",
                                        "nullable": false
                                    },
                                    "city_id": {
                                        "description": "ID de la ville de résidence",
                                        "type": "integer",
                                        "example": 1,
                                        "nullable": false
                                    },
                                    "avatar": {
                                        "description": "Image d'avatar (optionnel, max 2MB)",
                                        "type": "string",
                                        "format": "binary"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Inscription réussie",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Inscription réussie."
                                        },
                                        "access_token": {
                                            "type": "string",
                                            "example": "1|abc123def456..."
                                        },
                                        "email_verification_required": {
                                            "type": "boolean",
                                            "example": true
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "Email déjà utilisé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Cette adresse email est déjà utilisée."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "413": {
                        "description": "Fichier avatar trop volumineux",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Le fichier avatar est trop volumineux."
                                        },
                                        "max_size": {
                                            "type": "string",
                                            "example": "2MB"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Erreur de validation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Erreur de validation."
                                        },
                                        "errors": {
                                            "type": "object",
                                            "example": {
                                                "email": [
                                                    "Le champ email doit être une adresse email valide."
                                                ]
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "429": {
                        "description": "Trop de tentatives d'inscription",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Trop de tentatives d'inscription. Réessayez dans 300 secondes."
                                        },
                                        "retry_after": {
                                            "type": "integer",
                                            "example": 300
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Erreur serveur",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Une erreur est survenue lors de l'inscription. Veuillez réessayer."
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Database connection failed"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/auth/verifyEmail": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "Vérification de l'adresse email",
                "description": "Vérifie l'adresse email de l'utilisateur via un lien de vérification",
                "operationId": "verifyEmail",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "id",
                                    "hash"
                                ],
                                "properties": {
                                    "id": {
                                        "description": "ID de l'utilisateur",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "hash": {
                                        "description": "Hash de vérification",
                                        "type": "string",
                                        "example": "abc123def456"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Email vérifié avec succès ou déjà vérifié",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Email vérifié avec succès."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Lien de vérification invalide",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Lien de vérification invalide."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Utilisateur non trouvé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "No query results for model [App\\\\Models\\\\User]"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/auth/resendVerificationEmail": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "Renvoyer l'email de vérification",
                "description": "Renvoie un email de vérification à l'utilisateur",
                "operationId": "resendVerificationEmail",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email"
                                ],
                                "properties": {
                                    "email": {
                                        "description": "Adresse email de l'utilisateur",
                                        "type": "string",
                                        "format": "email",
                                        "example": "jean.dupont@example.com"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Email de vérification renvoyé ou déjà vérifié",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Email de vérification renvoyé."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Utilisateur non trouvé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Utilisateur non trouvé."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "429": {
                        "description": "Trop de demandes de renvoi",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Trop de demandes. Réessayez dans 300 secondes."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/auth/login": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "Connexion utilisateur",
                "description": "Authentifie un utilisateur et retourne un token d'accès",
                "operationId": "login",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "email": {
                                        "description": "Adresse email de l'utilisateur",
                                        "type": "string",
                                        "format": "email",
                                        "example": "jean.dupont@example.com"
                                    },
                                    "password": {
                                        "description": "Mot de passe de l'utilisateur",
                                        "type": "string",
                                        "format": "password",
                                        "example": "motdepasse123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Connexion réussie",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Connexion réussie."
                                        },
                                        "access_token": {
                                            "type": "string",
                                            "example": "1|abc123def456..."
                                        },
                                        "token_type": {
                                            "type": "string",
                                            "example": "Bearer"
                                        },
                                        "expires_at": {
                                            "type": "string",
                                            "format": "date-time",
                                            "nullable": true
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Identifiants invalides",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Identifiants invalides."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Compte désactivé ou email non vérifié",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Compte désactivé. Contactez l'administrateur."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Erreur de validation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Données de validation invalides."
                                        },
                                        "errors": {
                                            "type": "object",
                                            "example": {
                                                "email": [
                                                    "Le champ email doit être une adresse email valide."
                                                ]
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "429": {
                        "description": "Trop de tentatives de connexion",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Trop de tentatives de connexion. Réessayez dans 300 secondes."
                                        },
                                        "retry_after": {
                                            "type": "integer",
                                            "example": 300
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Erreur serveur",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Une erreur est survenue lors de la connexion."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/auth/logout": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "Déconnexion utilisateur",
                "description": "Déconnecte l'utilisateur en révoquant son token d'accès",
                "operationId": "logout",
                "parameters": [
                    {
                        "name": "Authorization",
                        "in": "header",
                        "description": "Bearer token actuel à rafraîchir",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "Bearer 1|abc123def456ghi789jkl012mno345pqr678stu901vwx234yz"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Déconnexion réussie",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Déconnexion réussie."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Token d'authentification manquant ou invalide",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Erreur serveur",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Erreur lors de la déconnexion."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/v1/auth/me": {
            "get": {
                "tags": [
                    "auth"
                ],
                "summary": "Informations de l'utilisateur connecté",
                "description": "Retourne les informations de l'utilisateur actuellement authentifié",
                "operationId": "me",
                "parameters": [
                    {
                        "name": "Authorization",
                        "in": "header",
                        "description": "Bearer token pour l'authentification",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "Bearer 1|abc123def456ghi789jkl012mno345pqr678stu901vwx234yz"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Informations utilisateur récupérées avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "authenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Token d'authentification manquant ou invalide",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/v1/auth/refresh": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "Rafraîchir le token d'accès",
                "description": "Génère un nouveau token d'accès et révoque l'ancien",
                "operationId": "refresh",
                "parameters": [
                    {
                        "name": "Authorization",
                        "in": "header",
                        "description": "Bearer token actuel à rafraîchir",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "Bearer 1|abc123def456ghi789jkl012mno345pqr678stu901vwx234yz"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Token rafraîchi avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "access_token": {
                                            "type": "string",
                                            "example": "2|def789ghi012..."
                                        },
                                        "token_type": {
                                            "type": "string",
                                            "example": "Bearer"
                                        },
                                        "expires_at": {
                                            "type": "string",
                                            "format": "date-time"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Token d'authentification manquant ou invalide",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Erreur serveur",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Erreur lors du rafraîchissement du token."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/v1/cities": {
            "get": {
                "tags": [
                    "city"
                ],
                "summary": "Liste des villes",
                "description": "Récupère la liste paginée des villes",
                "operationId": "showCities",
                "parameters": [
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Numéro de page",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/City"
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non autorisé"
                    },
                    "404": {
                        "description": "Non trouvé"
                    },
                    "500": {
                        "description": "Erreur du Serveur"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "city"
                ],
                "summary": "Créer une ville",
                "description": "Crée une nouvelle ville",
                "operationId": "storeCity",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Paris"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Ville créée avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/City"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Requête invalide"
                    },
                    "401": {
                        "description": "Non autorisé"
                    },
                    "500": {
                        "description": "Erreur du Serveur"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/cities/{id}": {
            "get": {
                "tags": [
                    "city"
                ],
                "summary": "Afficher une ville",
                "description": "Récupère les détails d'une ville",
                "operationId": "showCity",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/City"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Ville non trouvé"
                    },
                    "401": {
                        "description": "Non autorisé"
                    },
                    "500": {
                        "description": "Erreur du Serveur"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "city"
                ],
                "summary": "Mettre à jour une ville",
                "description": "Met à jour les détails d'une ville",
                "operationId": "updateCity",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Lyon"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Ville mise à jour avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/City"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Requête invalide"
                    },
                    "404": {
                        "description": "Ville non trouvée"
                    },
                    "401": {
                        "description": "Non autorisé"
                    },
                    "500": {
                        "description": "Erreur du Serveur"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "city"
                ],
                "summary": "Supprimer une ville",
                "description": "Supprime une ville par son ID",
                "operationId": "deleteCity",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Ville supprimée avec succès"
                    },
                    "404": {
                        "description": "Ville non trouvée"
                    },
                    "401": {
                        "description": "Non autorisé"
                    },
                    "500": {
                        "description": "Erreur du Serveur"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/quarters": {
            "get": {
                "tags": [
                    "quarter"
                ],
                "summary": "Liste des quartiers",
                "description": "Récupère la liste paginée de tous les quartiers",
                "operationId": "6e6abbea051bdd277da3457998416f0f",
                "parameters": [
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Numéro de page",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 1,
                            "minimum": 1
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "description": "Nombre d'éléments par page",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 10,
                            "maximum": 100,
                            "minimum": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Liste des quartiers récupérée avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Quarter"
                                            }
                                        },
                                        "links": {
                                            "properties": {
                                                "first": {
                                                    "type": "string"
                                                },
                                                "last": {
                                                    "type": "string"
                                                },
                                                "prev": {
                                                    "type": "string",
                                                    "nullable": true
                                                },
                                                "next": {
                                                    "type": "string",
                                                    "nullable": true
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "meta": {
                                            "properties": {
                                                "current_page": {
                                                    "type": "integer"
                                                },
                                                "from": {
                                                    "type": "integer"
                                                },
                                                "last_page": {
                                                    "type": "integer"
                                                },
                                                "per_page": {
                                                    "type": "integer"
                                                },
                                                "to": {
                                                    "type": "integer"
                                                },
                                                "total": {
                                                    "type": "integer"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non autorisé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Accès interdit",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Cette action n'est pas autorisée."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "quarter"
                ],
                "summary": "Créer un quartier",
                "description": "Crée un nouveau quartier dans une ville",
                "operationId": "182c837b4798f9c7f7c234da6d44bc87",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "city_id"
                                ],
                                "properties": {
                                    "name": {
                                        "description": "Nom du quartier",
                                        "type": "string",
                                        "example": "Centre-ville"
                                    },
                                    "city_id": {
                                        "description": "ID de la ville parente",
                                        "type": "integer",
                                        "example": 1
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Quartier créé avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Creation réussie"
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/Quarter"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "Conflit - Le quartier existe déjà",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Cette ce quartier existe déjà."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Erreur de validation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "properties": {
                                                "name": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "Le champ nom est obligatoire."
                                                    }
                                                },
                                                "city_id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "Le champ city_id est obligatoire."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Erreur interne du serveur",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Erreur de creation"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Database connection failed"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/quarters/{id}": {
            "get": {
                "tags": [
                    "quarter"
                ],
                "summary": "Afficher un quartier",
                "description": "Récupère les détails d'un quartier spécifique",
                "operationId": "f3159a4d73b23455efa28a31e28af933",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID du quartier",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Détails du quartier",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Quarter"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Quartier non trouvé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Ce quartier n'existe pas"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non autorisé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Accès interdit",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Cette action n'est pas autorisée."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/quarters/{quarter}": {
            "put": {
                "tags": [
                    "quarter"
                ],
                "summary": "Mettre à jour un quartier",
                "description": "Met à jour les informations d'un quartier existant",
                "operationId": "b5052bd5fdfdb91d070fd47e84bfbf52",
                "parameters": [
                    {
                        "name": "quarter",
                        "in": "path",
                        "description": "ID du quartier à mettre à jour",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "description": "Nom du quartier",
                                        "type": "string",
                                        "example": "Centre-ville Nord"
                                    },
                                    "city_id": {
                                        "description": "ID de la ville parente",
                                        "type": "integer",
                                        "example": 1
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Quartier mis à jour avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Mis à jour avec succès."
                                        },
                                        "quarter": {
                                            "$ref": "#/components/schemas/Quarter"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "Conflit - Le nom est déjà utilisé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Ce nom de quartier est déjà utilisé."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Quartier non trouvé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "No query results for model [App\\\\Models\\\\Quarter]"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Erreur de validation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "type": "object",
                                            "additionalProperties": {
                                                "type": "array",
                                                "items": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Erreur interne du serveur",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Erreur de mise à jour"
                                        },
                                        "error": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "quarter"
                ],
                "summary": "Supprimer un quartier",
                "description": "Supprime définitivement un quartier",
                "operationId": "7c3f17e280c55d050b58490fcc05c506",
                "parameters": [
                    {
                        "name": "quarter",
                        "in": "path",
                        "description": "ID du quartier à supprimer",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Quartier supprimé avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Quartier supprimé avec succès."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Quartier non trouvé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "No query results for model [App\\\\Models\\\\Quarter]"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non autorisé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Accès interdit",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Cette action n'est pas autorisée."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Erreur interne du serveur",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Erreur de suppression"
                                        },
                                        "error": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/users": {
            "get": {
                "tags": [
                    "user"
                ],
                "summary": "Liste des utilisateurs",
                "description": "Récupère la liste paginée des utilisateurs avec leurs relations (ville et média)",
                "operationId": "getUsersList",
                "parameters": [
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Numéro de page pour la pagination",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 1,
                            "minimum": 1
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "description": "Nombre d'éléments par page",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 10,
                            "maximum": 100,
                            "minimum": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Liste des utilisateurs récupérée avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/User"
                                            }
                                        },
                                        "links": {
                                            "properties": {
                                                "first": {
                                                    "type": "string",
                                                    "example": "http://example.com/api/v1/users?page=1"
                                                },
                                                "last": {
                                                    "type": "string",
                                                    "example": "http://example.com/api/v1/users?page=10"
                                                },
                                                "prev": {
                                                    "type": "string",
                                                    "nullable": true
                                                },
                                                "next": {
                                                    "type": "string",
                                                    "nullable": true
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "meta": {
                                            "properties": {
                                                "current_page": {
                                                    "type": "integer"
                                                },
                                                "last_page": {
                                                    "type": "integer"
                                                },
                                                "per_page": {
                                                    "type": "integer"
                                                },
                                                "total": {
                                                    "type": "integer"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non autorisé - Token manquant ou invalide",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Accès interdit - Permissions insuffisantes",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "This action is unauthorized"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Erreur interne du serveur",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Erreur du serveur"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "user"
                ],
                "summary": "Créer un nouvel utilisateur",
                "description": "Crée un nouvel utilisateur avec avatar optionnel et génère un token d'accès",
                "operationId": "createUser",
                "requestBody": {
                    "description": "Données de l'utilisateur à créer",
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "firstname",
                                    "lastname",
                                    "email",
                                    "password",
                                    "phone_number",
                                    "role",
                                    "city_id"
                                ],
                                "properties": {
                                    "firstname": {
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Jean"
                                    },
                                    "lastname": {
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Dupont"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "jean.dupont@example.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "minLength": 8,
                                        "example": "motdepasse123"
                                    },
                                    "confirm_password": {
                                        "type": "string",
                                        "format": "password",
                                        "minLength": 8,
                                        "example": "motdepasse123"
                                    },
                                    "phone_number": {
                                        "type": "string",
                                        "example": "+33123456789"
                                    },
                                    "role": {
                                        "type": "string",
                                        "enum": [
                                            "customer",
                                            "agent"
                                        ],
                                        "example": "agent"
                                    },
                                    "type": {
                                        "description": "Ce champ est requis pour les agents",
                                        "type": "string",
                                        "enum": [
                                            "individual",
                                            "agency"
                                        ],
                                        "example": "individual",
                                        "nullable": true
                                    },
                                    "city_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "avatar": {
                                        "description": "Avatar de l'utilisateur (image)",
                                        "type": "string",
                                        "format": "binary"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Utilisateur créé avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Création réussie."
                                        },
                                        "user": {
                                            "$ref": "#/components/schemas/User"
                                        },
                                        "access_token": {
                                            "type": "string",
                                            "example": "1|abcdef123456..."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Données de validation invalides",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "properties": {
                                                "email": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The email field is required."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non autorisé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Accès interdit - Permissions insuffisantes",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "This action is unauthorized"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "Conflit - Email déjà utilisé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Cette adresse email est déjà utilisée."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Erreur interne du serveur",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Impossible de créer l'utilisateur pour le moment."
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Database connection failed"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/users/{id}": {
            "get": {
                "tags": [
                    "user"
                ],
                "summary": "Afficher un utilisateur spécifique",
                "description": "Récupère les détails d'un utilisateur par son ID avec ses relations",
                "operationId": "getUserById",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID unique de l'utilisateur",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "format": "int64",
                            "minimum": 1,
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Détails de l'utilisateur récupérés avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/User"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non autorisé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Accès interdit - Permissions insuffisantes",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "This action is unauthorized"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Utilisateur non trouvé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Utilisateur non trouvé"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Erreur interne du serveur",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Erreur du serveur"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/users/{user}": {
            "put": {
                "tags": [
                    "user"
                ],
                "summary": "Mettre à jour un utilisateur",
                "description": "Met à jour les informations d'un utilisateur existant avec gestion d'avatar",
                "operationId": "updateUser",
                "parameters": [
                    {
                        "name": "user",
                        "in": "path",
                        "description": "ID de l'utilisateur à mettre à jour",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "format": "int64",
                            "minimum": 1,
                            "example": 1
                        }
                    }
                ],
                "requestBody": {
                    "description": "Données de l'utilisateur à mettre à jour (tous les champs sont optionnels)",
                    "required": false,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "firstname": {
                                        "type": "string",
                                        "maxLength": 255
                                    },
                                    "lastname": {
                                        "type": "string",
                                        "maxLength": 255
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "minLength": 8
                                    },
                                    "phone_number": {
                                        "type": "string"
                                    },
                                    "city_id": {
                                        "type": "integer"
                                    },
                                    "avatar": {
                                        "description": "Nouvel avatar de l'utilisateur (image)",
                                        "type": "string",
                                        "format": "binary"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Utilisateur mis à jour avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Utilisateur mis à jour avec succès."
                                        },
                                        "user": {
                                            "$ref": "#/components/schemas/User"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Données de validation invalides",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "properties": {
                                                "email": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The email format is invalid."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non autorisé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Accès interdit - Permissions insuffisantes",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "This action is unauthorized"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Utilisateur non trouvé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "No query results for model [App\\\\Models\\\\User]"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "Conflit - Email déjà utilisé par un autre utilisateur",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Cette adresse email est déjà utilisée."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Erreur interne du serveur",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Impossible de mettre à jour l'utilisateur pour le moment."
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Database connection failed"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "user"
                ],
                "summary": "Supprimer un utilisateur",
                "description": "Supprime définitivement un utilisateur et toutes ses données associées (avatar, médias)",
                "operationId": "deleteUser",
                "parameters": [
                    {
                        "name": "user",
                        "in": "path",
                        "description": "ID de l'utilisateur à supprimer",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "format": "int64",
                            "minimum": 1,
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Utilisateur supprimé avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Utilisateur supprimé avec succès."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non autorisé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Accès interdit - Permissions insuffisantes",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "This action is unauthorized"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Utilisateur non trouvé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "No query results for model [App\\\\Models\\\\User]"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "Conflit - Impossible de supprimer l'utilisateur (contraintes de données)",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Impossible de supprimer cet utilisateur car il est lié à d'autres données."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Erreur interne du serveur",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Impossible de supprimer l'utilisateur pour le moment."
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Database constraint violation"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        }
    },
    "components": {
        "schemas": {
            "Ad": {
                "title": "Ad",
                "description": "Modèle Annonce immobilière",
                "properties": {
                    "id": {
                        "description": "Identifiant unique de l'annonce",
                        "type": "integer",
                        "example": 1
                    },
                    "title": {
                        "description": "Titre de l'annonce",
                        "type": "string",
                        "maxLength": 255,
                        "example": "Magnifique appartement au centre-ville"
                    },
                    "description": {
                        "description": "Description détaillée de l'annonce",
                        "type": "string",
                        "example": "Superbe appartement de 3 pièces avec vue imprenable sur la ville"
                    },
                    "adresse": {
                        "description": "Adresse du bien",
                        "type": "string",
                        "maxLength": 500,
                        "example": "123 Rue de la Paix, 75001 Paris"
                    },
                    "price": {
                        "description": "Prix du bien",
                        "type": "number",
                        "format": "float",
                        "minimum": 0,
                        "example": 1250.5
                    },
                    "surface_area": {
                        "description": "Surface en m²",
                        "type": "number",
                        "format": "float",
                        "minimum": 0,
                        "example": 85.5
                    },
                    "bedrooms": {
                        "description": "Nombre de chambres",
                        "type": "integer",
                        "minimum": 0,
                        "example": 2
                    },
                    "bathrooms": {
                        "description": "Nombre de salles de bain",
                        "type": "integer",
                        "minimum": 0,
                        "example": 1
                    },
                    "has_parking": {
                        "description": "Disponibilité d'un parking",
                        "type": "boolean",
                        "example": true
                    },
                    "latitude": {
                        "description": "Latitude GPS",
                        "type": "number",
                        "format": "float",
                        "maximum": 90,
                        "minimum": -90,
                        "example": 48.8566
                    },
                    "longitude": {
                        "description": "Longitude GPS",
                        "type": "number",
                        "format": "float",
                        "maximum": 180,
                        "minimum": -180,
                        "example": 2.3522
                    },
                    "status": {
                        "description": "Statut de l'annonce",
                        "type": "string",
                        "enum": [
                            "pending",
                            "active",
                            "expired",
                            "sold"
                        ],
                        "example": "active"
                    },
                    "expires_at": {
                        "description": "Date d'expiration",
                        "type": "string",
                        "format": "date-time",
                        "example": "2024-12-31T23:59:59Z",
                        "nullable": true
                    },
                    "created_at": {
                        "description": "Date de création",
                        "type": "string",
                        "format": "date-time",
                        "example": "2024-01-15T10:30:00Z"
                    },
                    "updated_at": {
                        "description": "Date de dernière modification",
                        "type": "string",
                        "format": "date-time",
                        "example": "2024-01-16T14:20:00Z"
                    },
                    "user_id": {
                        "description": "ID du propriétaire de l'annonce",
                        "type": "integer",
                        "example": 1
                    },
                    "quarter_id": {
                        "description": "ID du quartier",
                        "type": "integer",
                        "example": 5
                    },
                    "type_id": {
                        "description": "ID du type de bien",
                        "type": "integer",
                        "example": 2
                    }
                },
                "type": "object"
            },
            "AdResource": {
                "title": "Ad Resource",
                "description": "Ressource complète d'une annonce avec relations",
                "type": "object",
                "allOf": [
                    {
                        "$ref": "#/components/schemas/Ad"
                    },
                    {
                        "properties": {
                            "user": {
                                "description": "Propriétaire de l'annonce",
                                "properties": {
                                    "id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "firstname": {
                                        "type": "string",
                                        "example": "John"
                                    },
                                    "lastname": {
                                        "type": "string",
                                        "example": "Doe"
                                    },
                                    "email": {
                                        "type": "string",
                                        "example": "john.doe@example.com"
                                    },
                                    "phone_number": {
                                        "type": "string",
                                        "example": "+33123456789"
                                    },
                                    "avatar": {
                                        "type": "string",
                                        "example": "https://example.com/avatar.jpg",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            },
                            "quarter": {
                                "description": "Quartier du bien",
                                "properties": {
                                    "id": {
                                        "type": "integer",
                                        "example": 5
                                    },
                                    "name": {
                                        "type": "string",
                                        "example": "Centre-ville"
                                    },
                                    "city": {
                                        "description": "Ville du quartier",
                                        "properties": {
                                            "id": {
                                                "type": "integer",
                                                "example": 1
                                            },
                                            "name": {
                                                "type": "string",
                                                "example": "Paris"
                                            },
                                            "postal_code": {
                                                "type": "string",
                                                "example": "75001"
                                            }
                                        },
                                        "type": "object"
                                    }
                                },
                                "type": "object"
                            },
                            "ad_type": {
                                "description": "Type de bien",
                                "properties": {
                                    "id": {
                                        "type": "integer",
                                        "example": 2
                                    },
                                    "name": {
                                        "type": "string",
                                        "example": "Appartement"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Logement dans un immeuble"
                                    }
                                },
                                "type": "object"
                            },
                            "images": {
                                "description": "Images de l'annonce",
                                "type": "array",
                                "items": {
                                    "properties": {
                                        "id": {
                                            "type": "integer",
                                            "example": 1
                                        },
                                        "is_primary": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "media": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Image principale"
                                                    },
                                                    "file_name": {
                                                        "type": "string",
                                                        "example": "1_1642234567_0.jpg"
                                                    },
                                                    "mime_type": {
                                                        "type": "string",
                                                        "example": "image/jpeg"
                                                    },
                                                    "size": {
                                                        "type": "integer",
                                                        "example": 1024576
                                                    },
                                                    "url": {
                                                        "type": "string",
                                                        "example": "https://example.com/storage/images/1_1642234567_0.jpg"
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2024-01-15T10:30:00Z"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            },
                            "images_count": {
                                "description": "Nombre total d'images",
                                "type": "integer",
                                "example": 4
                            }
                        },
                        "type": "object"
                    }
                ]
            },
            "AdImage": {
                "title": "Ad Image",
                "description": "Image associée à une annonce",
                "properties": {
                    "id": {
                        "description": "Identifiant unique de l'image",
                        "type": "integer",
                        "example": 1
                    },
                    "ad_id": {
                        "description": "ID de l'annonce associée",
                        "type": "integer",
                        "example": 1
                    },
                    "is_primary": {
                        "description": "Image principale",
                        "type": "boolean",
                        "example": true
                    },
                    "created_at": {
                        "description": "Date de création",
                        "type": "string",
                        "format": "date-time",
                        "example": "2024-01-15T10:30:00Z"
                    },
                    "updated_at": {
                        "description": "Date de modification",
                        "type": "string",
                        "format": "date-time",
                        "example": "2024-01-15T10:30:00Z"
                    }
                },
                "type": "object"
            },
            "ErrorResponse": {
                "title": "Error Response",
                "description": "Réponse d'erreur standard",
                "properties": {
                    "success": {
                        "type": "boolean",
                        "example": false
                    },
                    "message": {
                        "type": "string",
                        "example": "Une erreur s'est produite"
                    },
                    "error": {
                        "type": "string",
                        "example": "Détail de l'erreur",
                        "nullable": true
                    },
                    "errors": {
                        "description": "Erreurs de validation",
                        "type": "object",
                        "nullable": true,
                        "additionalProperties": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    }
                },
                "type": "object"
            },
            "AdCreateRequest": {
                "title": "Ad Create Request",
                "description": "Données requises pour créer une annonce",
                "required": [
                    "title",
                    "description",
                    "adresse",
                    "price",
                    "surface_area",
                    "bedrooms",
                    "bathrooms",
                    "latitude",
                    "longitude",
                    "quarter_id",
                    "type_id"
                ],
                "properties": {
                    "title": {
                        "description": "Titre de l'annonce",
                        "type": "string",
                        "maxLength": 255,
                        "example": "Magnifique appartement"
                    },
                    "description": {
                        "description": "Description détaillée",
                        "type": "string",
                        "example": "Appartement spacieux avec vue"
                    },
                    "adresse": {
                        "description": "Adresse du bien",
                        "type": "string",
                        "maxLength": 500,
                        "example": "123 Rue de la Paix"
                    },
                    "price": {
                        "description": "Prix",
                        "type": "number",
                        "format": "float",
                        "minimum": 0,
                        "example": 1250.5
                    },
                    "surface_area": {
                        "description": "Surface en m²",
                        "type": "number",
                        "format": "float",
                        "minimum": 0,
                        "example": 85.5
                    },
                    "bedrooms": {
                        "description": "Nombre de chambres",
                        "type": "integer",
                        "minimum": 0,
                        "example": 2
                    },
                    "bathrooms": {
                        "description": "Nombre de salles de bain",
                        "type": "integer",
                        "minimum": 0,
                        "example": 1
                    },
                    "has_parking": {
                        "description": "Parking disponible",
                        "type": "boolean",
                        "example": true
                    },
                    "latitude": {
                        "description": "Latitude GPS",
                        "type": "number",
                        "format": "float",
                        "maximum": 90,
                        "minimum": -90,
                        "example": 48.8566
                    },
                    "longitude": {
                        "description": "Longitude GPS",
                        "type": "number",
                        "format": "float",
                        "maximum": 180,
                        "minimum": -180,
                        "example": 2.3522
                    },
                    "status": {
                        "description": "Statut",
                        "type": "string",
                        "enum": [
                            "pending",
                            "active",
                            "expired",
                            "sold"
                        ],
                        "example": "pending"
                    },
                    "expires_at": {
                        "description": "Date d'expiration",
                        "type": "string",
                        "format": "date-time",
                        "example": "2024-12-31T23:59:59Z",
                        "nullable": true
                    },
                    "user_id": {
                        "description": "ID utilisateur (optionnel)",
                        "type": "integer",
                        "example": 1,
                        "nullable": true
                    },
                    "quarter_id": {
                        "description": "ID quartier",
                        "type": "integer",
                        "example": 5
                    },
                    "type_id": {
                        "description": "ID type de bien",
                        "type": "integer",
                        "example": 2
                    },
                    "images": {
                        "description": "Images du bien (max 10, 5MB chaque)",
                        "type": "array",
                        "items": {
                            "type": "string",
                            "format": "binary"
                        },
                        "maxItems": 10
                    }
                },
                "type": "object"
            },
            "AdUpdateRequest": {
                "title": "Ad Update Request",
                "description": "Données pour mettre à jour une annonce",
                "properties": {
                    "title": {
                        "description": "Titre de l'annonce",
                        "type": "string",
                        "maxLength": 255,
                        "example": "Titre mis à jour"
                    },
                    "description": {
                        "description": "Description mise à jour",
                        "type": "string",
                        "example": "Description modifiée"
                    },
                    "adresse": {
                        "description": "Nouvelle adresse",
                        "type": "string",
                        "maxLength": 500,
                        "example": "456 Avenue Updated"
                    },
                    "price": {
                        "description": "Nouveau prix",
                        "type": "number",
                        "format": "float",
                        "minimum": 0,
                        "example": 1350.75
                    },
                    "surface_area": {
                        "description": "Nouvelle surface",
                        "type": "number",
                        "format": "float",
                        "minimum": 0,
                        "example": 90
                    },
                    "bedrooms": {
                        "description": "Nouveau nombre de chambres",
                        "type": "integer",
                        "minimum": 0,
                        "example": 3
                    },
                    "bathrooms": {
                        "description": "Nouveau nombre de salles de bain",
                        "type": "integer",
                        "minimum": 0,
                        "example": 2
                    },
                    "has_parking": {
                        "description": "Parking disponible",
                        "type": "boolean",
                        "example": false
                    },
                    "latitude": {
                        "description": "Nouvelle latitude",
                        "type": "number",
                        "format": "float",
                        "maximum": 90,
                        "minimum": -90,
                        "example": 48.8606
                    },
                    "longitude": {
                        "description": "Nouvelle longitude",
                        "type": "number",
                        "format": "float",
                        "maximum": 180,
                        "minimum": -180,
                        "example": 2.3376
                    },
                    "status": {
                        "description": "Nouveau statut",
                        "type": "string",
                        "enum": [
                            "pending",
                            "active",
                            "expired",
                            "sold"
                        ],
                        "example": "active"
                    },
                    "expires_at": {
                        "description": "Nouvelle date d'expiration",
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-01-31T23:59:59Z"
                    },
                    "quarter_id": {
                        "description": "Nouveau quartier",
                        "type": "integer",
                        "example": 3
                    },
                    "type_id": {
                        "description": "Nouveau type",
                        "type": "integer",
                        "example": 1
                    },
                    "images": {
                        "description": "Nouvelles images à ajouter",
                        "type": "array",
                        "items": {
                            "type": "string",
                            "format": "binary"
                        }
                    },
                    "images_to_delete": {
                        "description": "IDs des images à supprimer",
                        "type": "array",
                        "items": {
                            "type": "integer"
                        },
                        "example": [
                            1,
                            3,
                            5
                        ]
                    }
                },
                "type": "object"
            },
            "AdType": {
                "title": "AdType",
                "description": "Modèle pour type d'annonce",
                "properties": {
                    "id": {
                        "type": "integer"
                    },
                    "name": {
                        "type": "string"
                    },
                    "desc": {
                        "type": "string"
                    }
                },
                "type": "object"
            },
            "City": {
                "title": "City",
                "description": "Modèle pour une ville",
                "properties": {
                    "id": {
                        "type": "integer"
                    },
                    "name": {
                        "type": "string"
                    }
                },
                "type": "object"
            },
            "Quarter": {
                "title": "Quarter",
                "description": "Modèle quartier",
                "properties": {
                    "id": {
                        "type": "integer"
                    },
                    "name": {
                        "type": "string"
                    },
                    "city_id": {
                        "type": "integer"
                    }
                },
                "type": "object"
            },
            "User": {
                "title": "User",
                "description": "Modèle utilisateur",
                "properties": {
                    "id": {
                        "type": "integer"
                    },
                    "firstname": {
                        "type": "string"
                    },
                    "lastname": {
                        "type": "string"
                    },
                    "phone_number": {
                        "type": "string"
                    },
                    "email": {
                        "type": "string"
                    },
                    "password": {
                        "type": "string"
                    },
                    "confirm_password": {
                        "type": "string"
                    },
                    "avatar": {
                        "type": "string"
                    },
                    "role": {
                        "type": "string",
                        "enum": [
                            "admin",
                            "agent",
                            "customer"
                        ]
                    },
                    "type": {
                        "type": "string",
                        "enum": [
                            "individual",
                            "agency"
                        ],
                        "nullable": true
                    },
                    "city_id": {
                        "type": "integer"
                    }
                },
                "type": "object"
            }
        },
        "securitySchemes": {
            "bearerAuth": {
                "type": "http",
                "name": "Authorization",
                "in": "header",
                "bearerFormat": "JWT",
                "scheme": "bearer"
            }
        }
    },
    "tags": [
        {
            "name": "ad type",
            "description": "Gestion des types d'annonces"
        },
        {
            "name": "city",
            "description": "Gestion des villes"
        },
        {
            "name": "auth",
            "description": "Gestion de l'authentification"
        },
        {
            "name": "user",
            "description": "Gestion des utilisateurs"
        },
        {
            "name": "quarter",
            "description": "Gestion des quartiers"
        },
        {
            "name": "Annonces",
            "description": "Gestion des annonces"
        }
    ]
}